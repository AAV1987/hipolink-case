<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Достижения</title>

<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;700&display=swap" rel="stylesheet">

<style>
    body{
        margin:0;
        padding:30px 10px;
        font-family:'Comfortaa', sans-serif;
        background:transparent;
        color:#fff;
    }

    .wrapper{
        max-width:700px;
        margin:0 auto;
    }

    button.main-toggle{
        background:#a61d45;
        padding:16px;
        text-align:center;
        border-radius:12px;
        cursor:pointer;
        font-size:20px;
        font-weight:700;
        user-select:none;
        border:none;
        width:100%;
        color:white;
        line-height:1.3;
    }

    .main-body{
        overflow:hidden;
        height:0;
        transition:height .35s ease;
        margin-top:12px;
    }

    .case{
        background:rgba(255,255,255,0.05);
        border:1px solid rgba(255,255,255,0.22);
        border-radius:12px;
        padding:14px;
        margin-bottom:12px;
        cursor:pointer;
        position:relative;
    }

    .case-title{
        font-size:17px;
        font-weight:700;
        padding-right:26px;
    }

    .arrow{
        position:absolute;
        right:14px;
        top:50%;
        transform:translateY(-50%);
        transition:.3s;
    }

    .case-content{
        overflow:hidden;
        height:0;
        transition:height .35s ease;
        margin-top:10px;
        font-size:15px;
        line-height:1.55;
    }

    .case.active .arrow{
        transform:translateY(-50%) rotate(180deg);
    }

    .case-content p{
        margin:0 0 10px 0;
    }

    .case-content p:last-child{
        margin-bottom:0;
    }
</style>

</head>
<body>

<div class="wrapper">

    <button class="main-toggle" onclick="toggleMain()">Достижения ▾</button>

    <div id="mainBody" class="main-body" data-open="0">

        <!-- ======= КЕЙСЫ ======= -->

        <!-- Кейс 1 -->
        <div class="case" onclick="toggleCase(this)">
            <div class="case-title">Кейс 1. Антикризисный разворот крупного регионального оператора связи</div>
            <div class="arrow">▾</div>
            <div class="case-content" data-open="0">
                <p>Крупный оператор фиксированной и мобильной связи подошёл к моменту кризиса...</p>
                <p>На основе собранных данных я перестроил управленческую модель...</p>
                <p>Работа с персоналом заняла важное место...</p>
            </div>
        </div>

        <!-- Кейс 2 -->
        <div class="case" onclick="toggleCase(this)">
            <div class="case-title">Кейс 2. Полная легализация и перезапуск сети АЗС</div>
            <div class="arrow">▾</div>
            <div class="case-content" data-open="0">
                <p>Сеть из тринадцати автозаправочных станций...</p>
                <p>Я организовал регистрацию юридических лиц...</p>
                <p>Продажи выросли, процессы стабилизировались...</p>
            </div>
        </div>

        <!-- Кейс 3 -->
        <div class="case" onclick="toggleCase(this)">
            <div class="case-title">Кейс 3. Инвестиционный проект стоимостью 100 млн рублей</div>
            <div class="arrow">▾</div>
            <div class="case-content" data-open="0">
                <p>Инвестор планировал вложить сто миллионов рублей...</p>
                <p>Были разработаны ППТ, ПМТ, согласована архитектурная концепция...</p>
                <p>Выручка превысила шесть миллионов рублей в месяц...</p>
            </div>
        </div>

        <!-- Кейс 4 -->
        <div class="case" onclick="toggleCase(this)">
            <div class="case-title">Кейс 4. Исключение неактивного участника</div>
            <div class="arrow">▾</div>
            <div class="case-content" data-open="0">
                <p>Участник блокировал ключевые решения...</p>
                <p>Суд обязал продать долю...</p>
                <p>Оборот вырос до 310 млн рублей...</p>
            </div>
        </div>

        <!-- Кейс 5 -->
        <div class="case" onclick="toggleCase(this)">
            <div class="case-title">Кейс 5. Восстановление корпоративных прав</div>
            <div class="arrow">▾</div>
            <div class="case-content" data-open="0">
                <p>Учредительница обнаружила поддельные протоколы...</p>
                <p>Экспертизы доказали отсутствие подписи...</p>
                <p>Права полностью восстановлены...</p>
            </div>
        </div>

        <!-- Кейс 6 -->
        <div class="case" onclick="toggleCase(this)">
            <div class="case-title">Кейс 6. Восстановление наследственных прав</div>
            <div class="arrow">▾</div>
            <div class="case-content" data-open="0">
                <p>Наследственная цепочка была нарушена дважды...</p>
                <p>Суд признал наследника принявшим наследство...</p>
                <p>Риски взыскания исключены...</p>
            </div>
        </div>

        <!-- Кейс 7 -->
        <div class="case" onclick="toggleCase(this)">
            <div class="case-title">Кейс 7. Остановка незаконного сноса дома</div>
            <div class="arrow">▾</div>
            <div class="case-content" data-open="0">
                <p>Заключение было выполнено без выезда...</p>
                <p>В кассации доказано нарушение процедуры...</p>
                <p>Постановление отменено, жильцы сохранили квартиры...</p>
            </div>
        </div>

        <!-- Кейс 8 -->
        <div class="case" onclick="toggleCase(this)">
            <div class="case-title">Кейс 8. Защита четырёх жилых домов от сноса</div>
            <div class="arrow">▾</div>
            <div class="case-content" data-open="0">
                <p>Инспекция пыталась признать дома многоквартирными...</p>
                <p>Экспертизы подтвердили соответствие ИЖС...</p>
                <p>Все постройки признаны законными...</p>
            </div>
        </div>

    </div>
</div>

<script>
// ===== ГИБРИДНЫЙ АВТО-РЕСАЙЗ ДЛЯ HIPOLINK =====

function sendHeight(){
    const height = document.body.scrollHeight;
    window.parent.postMessage({ type: "resize", height: height }, "*");
}

window.addEventListener("load", sendHeight);

new ResizeObserver(() => {
    sendHeight();
}).observe(document.body);

setInterval(() => {
    sendHeight();
}, 350);

// ===== ОТКРЫТИЕ ГЛАВНОГО БЛОКА =====

function toggleMain(){
    let body = document.getElementById("mainBody");

    if(body.dataset.open === "1"){
        body.style.height = "0px";
        body.dataset.open = "0";
    } else {
        body.style.height = "auto";
        body.style.height = body.scrollHeight + "px";
        body.dataset.open = "1";
    }

    sendHeight();
}

// ===== ОТКРЫТИЕ КЕЙСОВ (ЖЕЛЕЗОБЕТОННЫЙ ВАРИАНТ) =====

function toggleCase(el){
    el.classList.toggle("active");
    let panel = el.querySelector(".case-content");

    if(panel.dataset.open === "1"){
        panel.style.height = "0px";
        panel.dataset.open = "0";
        sendHeight();
        return;
    }

    panel.dataset.open = "1";
    panel.style.height = "auto";

    let last = 0;
    let count = 0;

    function expand(){
        const h = panel.scrollHeight;

        if(h !== last){
            panel.style.height = h + "px";
            last = h;
            count = 0;
        } else {
            count++;
        }

        if(count < 4){
            requestAnimationFrame(expand);
        } else {
            let main = document.getElementById("mainBody");
            main.style.height = "auto";
            main.style.height = main.scrollHeight + "px";
            sendHeight();
        }
    }

    requestAnimationFrame(expand);
}
</script>

</body>
</html>
